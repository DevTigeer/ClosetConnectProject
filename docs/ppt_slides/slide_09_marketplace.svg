<?xml version="1.0" encoding="UTF-8"?>
<svg width="1920" height="1080" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8DABC4"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="url(#bgGradient)"/>

  <!-- Header -->
  <rect x="0" y="0" width="120" height="120" fill="#8DABC4"/>
  <text x="160" y="50" font-family="Arial, sans-serif" font-size="18" fill="#8DABC4" font-weight="bold">Part 3</text>
  <text x="160" y="90" font-family="Arial, sans-serif" font-size="36" fill="#2c3e50" font-weight="bold">마켓: 중고 거래 + Toss Payments 연동</text>

  <!-- Product Status Flow -->
  <rect x="100" y="160" width="850" height="280" rx="15" fill="white" filter="url(#shadow)"/>
  <text x="525" y="200" font-family="Arial, sans-serif" font-size="20" fill="#2c3e50" text-anchor="middle" font-weight="bold">상품 상태 (Product Status)</text>

  <!-- ON_SALE -->
  <rect x="150" y="250" width="180" height="70" rx="35" fill="#28a745" filter="url(#shadow)"/>
  <text x="240" y="293" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">ON_SALE</text>
  <text x="240" y="355" font-family="Arial, sans-serif" font-size="12" fill="#6c757d" text-anchor="middle">판매 중</text>

  <!-- Arrow -->
  <line x1="330" y1="285" x2="400" y2="285" stroke="#8DABC4" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="365" y="270" font-family="Arial, sans-serif" font-size="10" fill="#6c757d" text-anchor="middle">예약</text>

  <!-- RESERVED -->
  <rect x="410" y="250" width="180" height="70" rx="35" fill="#ffc107" filter="url(#shadow)"/>
  <text x="500" y="293" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">RESERVED</text>
  <text x="500" y="355" font-family="Arial, sans-serif" font-size="12" fill="#6c757d" text-anchor="middle">예약됨</text>

  <!-- Arrow -->
  <line x1="590" y1="285" x2="660" y2="285" stroke="#8DABC4" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="625" y="270" font-family="Arial, sans-serif" font-size="10" fill="#6c757d" text-anchor="middle">거래완료</text>

  <!-- SOLD -->
  <rect x="670" y="250" width="180" height="70" rx="35" fill="#6c757d" filter="url(#shadow)"/>
  <text x="760" y="293" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">SOLD</text>
  <text x="760" y="355" font-family="Arial, sans-serif" font-size="12" fill="#6c757d" text-anchor="middle">판매 완료</text>

  <!-- Product Condition -->
  <rect x="150" y="380" width="700" height="45" rx="8" fill="#f8f9fa"/>
  <text x="180" y="410" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">상품 상태: NEW | LIKE_NEW | GOOD | FAIR | POOR</text>

  <!-- Order Status Flow -->
  <rect x="970" y="160" width="850" height="280" rx="15" fill="white" filter="url(#shadow)"/>
  <text x="1395" y="200" font-family="Arial, sans-serif" font-size="20" fill="#2c3e50" text-anchor="middle" font-weight="bold">주문 상태 (Order Status)</text>

  <!-- Order flow - Row 1 -->
  <rect x="1010" y="230" width="140" height="50" rx="8" fill="#ffc107"/>
  <text x="1080" y="262" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">PAYMENT_</text>
  <text x="1080" y="275" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">PENDING</text>

  <line x1="1150" y1="255" x2="1180" y2="255" stroke="#8DABC4" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="1190" y="230" width="140" height="50" rx="8" fill="#28a745"/>
  <text x="1260" y="262" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">PAYMENT_</text>
  <text x="1260" y="275" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-weight="bold">PAID</text>

  <line x1="1330" y1="255" x2="1360" y2="255" stroke="#8DABC4" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="1370" y="230" width="120" height="50" rx="8" fill="#17a2b8"/>
  <text x="1430" y="262" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" font-weight="bold">SHIPPED</text>

  <line x1="1490" y1="255" x2="1520" y2="255" stroke="#8DABC4" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="1530" y="230" width="130" height="50" rx="8" fill="#8DABC4"/>
  <text x="1595" y="262" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" font-weight="bold">CONFIRMED</text>

  <line x1="1660" y1="255" x2="1690" y2="255" stroke="#8DABC4" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="1700" y="230" width="100" height="50" rx="8" fill="#6c757d"/>
  <text x="1750" y="252" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">SETTLEMENT</text>
  <text x="1750" y="268" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">RELEASED</text>

  <!-- Cancelled/Refunded -->
  <rect x="1010" y="310" width="140" height="40" rx="8" fill="#dc3545"/>
  <text x="1080" y="337" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" font-weight="bold">CANCELLED</text>

  <rect x="1170" y="310" width="140" height="40" rx="8" fill="#fd7e14"/>
  <text x="1240" y="337" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" font-weight="bold">REFUNDED</text>

  <!-- Labels -->
  <text x="1010" y="380" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">결제대기</text>
  <text x="1190" y="380" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">결제완료</text>
  <text x="1370" y="380" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">배송중</text>
  <text x="1530" y="380" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">구매확정</text>
  <text x="1700" y="380" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">정산완료</text>

  <!-- Toss Payments Section -->
  <rect x="100" y="470" width="700" height="280" rx="15" fill="white" filter="url(#shadow)"/>
  <rect x="100" y="470" width="700" height="60" rx="15" fill="#0064FF"/>
  <rect x="100" y="515" width="700" height="15" fill="#0064FF"/>
  <text x="450" y="510" font-family="Arial, sans-serif" font-size="20" fill="white" text-anchor="middle" font-weight="bold">Toss Payments 연동</text>

  <!-- Payment flow -->
  <rect x="150" y="560" width="180" height="60" rx="10" fill="#E8EEF4"/>
  <text x="240" y="595" font-family="Arial, sans-serif" font-size="14" fill="#4a5568" text-anchor="middle" font-weight="bold">결제 요청</text>
  <text x="240" y="615" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">POST /orders</text>

  <line x1="330" y1="590" x2="370" y2="590" stroke="#0064FF" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="380" y="560" width="180" height="60" rx="10" fill="#0064FF" opacity="0.1"/>
  <text x="470" y="595" font-family="Arial, sans-serif" font-size="14" fill="#0064FF" text-anchor="middle" font-weight="bold">Toss 결제창</text>
  <text x="470" y="615" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">Client-side SDK</text>

  <line x1="560" y1="590" x2="600" y2="590" stroke="#0064FF" stroke-width="2" marker-end="url(#arrowhead)"/>

  <rect x="610" y="560" width="150" height="60" rx="10" fill="#28a745" opacity="0.2"/>
  <text x="685" y="595" font-family="Arial, sans-serif" font-size="14" fill="#28a745" text-anchor="middle" font-weight="bold">결제 승인</text>
  <text x="685" y="615" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">/payments/confirm</text>

  <!-- API info -->
  <rect x="150" y="650" width="300" height="80" rx="8" fill="#f8f9fa"/>
  <text x="170" y="680" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• clientKey: 프론트엔드 결제창</text>
  <text x="170" y="700" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• secretKey: 백엔드 결제 승인</text>
  <text x="170" y="720" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 환불 API: DELETE /orders/{id}</text>

  <rect x="480" y="650" width="280" height="80" rx="8" fill="#f8f9fa"/>
  <text x="500" y="680" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• paymentKey: 결제 고유 ID</text>
  <text x="500" y="700" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• tossOrderId: 주문 고유 ID</text>
  <text x="500" y="720" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• paymentMethod: 결제 수단</text>

  <!-- Additional Features -->
  <rect x="830" y="470" width="990" height="280" rx="15" fill="white" filter="url(#shadow)"/>
  <text x="1325" y="510" font-family="Arial, sans-serif" font-size="20" fill="#2c3e50" text-anchor="middle" font-weight="bold">추가 기능</text>

  <!-- Feature 1: Chat -->
  <rect x="880" y="540" width="280" height="180" rx="10" fill="#F5E0D8"/>
  <text x="1020" y="580" font-family="Arial, sans-serif" font-size="16" fill="#5a4a42" text-anchor="middle" font-weight="bold">실시간 채팅</text>
  <text x="1020" y="600" font-family="Arial, sans-serif" font-size="32" text-anchor="middle">💬</text>
  <text x="900" y="640" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• WebSocket (STOMP)</text>
  <text x="900" y="660" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 구매자-판매자 소통</text>
  <text x="900" y="680" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• /queue/chat/{userId}</text>
  <text x="900" y="700" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 실시간 메시지 전송</text>

  <!-- Feature 2: Like -->
  <rect x="1190" y="540" width="280" height="180" rx="10" fill="#E8EEF4"/>
  <text x="1330" y="580" font-family="Arial, sans-serif" font-size="16" fill="#4a5568" text-anchor="middle" font-weight="bold">좋아요 / 찜</text>
  <text x="1330" y="600" font-family="Arial, sans-serif" font-size="32" text-anchor="middle">❤️</text>
  <text x="1210" y="640" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• POST /{id}/like</text>
  <text x="1210" y="660" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 관심 상품 저장</text>
  <text x="1210" y="680" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 좋아요 수 집계</text>
  <text x="1210" y="700" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 인기 상품 정렬</text>

  <!-- Feature 3: Comment -->
  <rect x="1500" y="540" width="280" height="180" rx="10" fill="#8DABC4" opacity="0.3"/>
  <text x="1640" y="580" font-family="Arial, sans-serif" font-size="16" fill="#4a5568" text-anchor="middle" font-weight="bold">댓글 / 문의</text>
  <text x="1640" y="600" font-family="Arial, sans-serif" font-size="32" text-anchor="middle">📝</text>
  <text x="1520" y="640" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 상품 문의 댓글</text>
  <text x="1520" y="660" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 대댓글 지원</text>
  <text x="1520" y="680" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 판매자 답변</text>
  <text x="1520" y="700" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">• 댓글 좋아요</text>

  <!-- Screenshot hints -->
  <rect x="100" y="780" width="500" height="100" rx="10" fill="white" filter="url(#shadow)"/>
  <text x="130" y="815" font-family="Arial, sans-serif" font-size="14" fill="#8DABC4" font-weight="bold">📸 필요 스크린샷</text>
  <text x="130" y="845" font-family="Arial, sans-serif" font-size="12" fill="#495057">• 상품 등록 화면 / 결제 화면 (Toss 위젯)</text>
  <text x="130" y="865" font-family="Arial, sans-serif" font-size="12" fill="#495057">• 주문 내역 (상태 뱃지) / 채팅 화면</text>

  <!-- Speaker notes -->
  <rect x="640" y="780" width="1180" height="100" rx="10" fill="white" filter="url(#shadow)"/>
  <text x="670" y="815" font-family="Arial, sans-serif" font-size="14" fill="#8DABC4" font-weight="bold">💬 발표 대본</text>
  <text x="670" y="845" font-family="Arial, sans-serif" font-size="12" fill="#495057">옷장에 저장된 옷을 중고 거래로 판매할 수 있습니다. 상품 상태는 ON_SALE에서 시작해 예약되면 RESERVED, 거래 완료되면 SOLD가 됩니다.</text>
  <text x="670" y="865" font-family="Arial, sans-serif" font-size="12" fill="#495057">주문은 Toss Payments와 연동했습니다. 결제 대기, 결제 완료, 배송, 구매 확정, 정산 완료까지 관리됩니다.</text>

  <!-- API info -->
  <rect x="100" y="910" width="1720" height="60" rx="10" fill="#f8f9fa"/>
  <text x="130" y="945" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">API Endpoints: /api/v1/market/products | /api/v1/market/orders | /api/v1/market/payments | /api/v1/market/chat</text>
</svg>
