<?xml version="1.0" encoding="UTF-8"?>
<svg width="1920" height="1080" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8DABC4"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="url(#bgGradient)"/>

  <!-- Header -->
  <rect x="0" y="0" width="120" height="120" fill="#8DABC4"/>
  <text x="160" y="50" font-family="Arial, sans-serif" font-size="18" fill="#8DABC4" font-weight="bold">Part 3</text>
  <text x="160" y="90" font-family="Arial, sans-serif" font-size="36" fill="#1a1a1a" font-weight="bold">시스템 아키텍처: Multi-Cloud + Message-Driven</text>

  <!-- Architecture Diagram Area -->
  <rect x="100" y="160" width="1720" height="520" rx="20" fill="white" filter="url(#shadow)"/>

  <!-- Frontend Box -->
  <rect x="150" y="220" width="300" height="200" rx="15" fill="#F5E0D8" filter="url(#shadow)"/>
  <text x="300" y="265" font-family="Arial, sans-serif" font-size="20" fill="#1a1a1a" text-anchor="middle" font-weight="bold">Frontend</text>
  <line x1="200" y1="280" x2="400" y2="280" stroke="#1a1a1a" stroke-width="1"/>
  <text x="180" y="310" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">React 18 + Vite</text>
  <text x="180" y="335" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">TypeScript</text>
  <text x="180" y="360" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">SockJS + STOMP</text>
  <rect x="180" y="380" width="240" height="30" rx="8" fill="white"/>
  <text x="300" y="402" font-family="Arial, sans-serif" font-size="13" fill="#1a1a1a" text-anchor="middle">Vercel (글로벌 CDN)</text>

  <!-- Arrow Frontend to Backend -->
  <line x1="450" y1="320" x2="530" y2="320" stroke="#8DABC4" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="490" y="305" font-family="Arial, sans-serif" font-size="11" fill="#1a1a1a" text-anchor="middle">REST</text>
  <text x="490" y="345" font-family="Arial, sans-serif" font-size="11" fill="#1a1a1a" text-anchor="middle">WS</text>

  <!-- Backend Box -->
  <rect x="550" y="200" width="340" height="240" rx="15" fill="#E8EEF4" filter="url(#shadow)"/>
  <text x="720" y="245" font-family="Arial, sans-serif" font-size="20" fill="#1a1a1a" text-anchor="middle" font-weight="bold">Backend</text>
  <line x1="600" y1="260" x2="840" y2="260" stroke="#1a1a1a" stroke-width="1"/>
  <text x="580" y="290" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">Spring Boot 3.5.7</text>
  <text x="580" y="315" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">Spring Security + JWT</text>
  <text x="580" y="340" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">STOMP WebSocket</text>
  <text x="580" y="365" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a">RabbitMQ Producer/Consumer</text>
  <rect x="580" y="385" width="280" height="30" rx="8" fill="white"/>
  <text x="720" y="407" font-family="Arial, sans-serif" font-size="13" fill="#1a1a1a" text-anchor="middle">Railway (Java + MariaDB)</text>

  <!-- Arrow Backend to MQ -->
  <line x1="890" y1="320" x2="970" y2="320" stroke="#8DABC4" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="930" y="305" font-family="Arial, sans-serif" font-size="11" fill="#1a1a1a" text-anchor="middle">AMQP</text>

  <!-- RabbitMQ Box -->
  <rect x="990" y="220" width="280" height="200" rx="15" fill="#ff6b35" filter="url(#shadow)"/>
  <text x="1130" y="265" font-family="Arial, sans-serif" font-size="20" fill="white" text-anchor="middle" font-weight="bold">RabbitMQ</text>
  <line x1="1040" y1="280" x2="1220" y2="280" stroke="white" stroke-width="1"/>
  <text x="1020" y="310" font-family="Arial, sans-serif" font-size="13" fill="white">cloth.processing.queue</text>
  <text x="1020" y="335" font-family="Arial, sans-serif" font-size="13" fill="white">cloth.progress.queue</text>
  <text x="1020" y="360" font-family="Arial, sans-serif" font-size="13" fill="white">cloth.result.queue</text>
  <rect x="1020" y="380" width="220" height="30" rx="8" fill="rgba(255,255,255,0.3)"/>
  <text x="1130" y="402" font-family="Arial, sans-serif" font-size="13" fill="white" text-anchor="middle">Railway (AMQP 3.12)</text>

  <!-- Arrow MQ to AI -->
  <line x1="1270" y1="320" x2="1350" y2="320" stroke="#8DABC4" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- AI Services Box -->
  <rect x="1370" y="200" width="400" height="240" rx="15" fill="#8DABC4" filter="url(#shadow)"/>
  <text x="1570" y="245" font-family="Arial, sans-serif" font-size="20" fill="white" text-anchor="middle" font-weight="bold">AI Services (Python)</text>
  <line x1="1420" y1="260" x2="1720" y2="260" stroke="white" stroke-width="1"/>
  <text x="1400" y="290" font-family="Arial, sans-serif" font-size="14" fill="white">FastAPI + PyTorch</text>
  <text x="1400" y="315" font-family="Arial, sans-serif" font-size="14" fill="white">rembg + U2Net (배경제거)</text>
  <text x="1400" y="340" font-family="Arial, sans-serif" font-size="14" fill="white">SegFormer (세그멘테이션)</text>
  <text x="1400" y="365" font-family="Arial, sans-serif" font-size="14" fill="white">Google Imagen / Gemini</text>
  <rect x="1400" y="385" width="340" height="30" rx="8" fill="rgba(255,255,255,0.3)"/>
  <text x="1570" y="407" font-family="Arial, sans-serif" font-size="13" fill="white" text-anchor="middle">Google Cloud Run (Auto-scaling)</text>

  <!-- Database below Backend -->
  <rect x="620" y="470" width="200" height="60" rx="10" fill="#003545"/>
  <text x="720" y="508" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">MariaDB 10.6+</text>
  <line x1="720" y1="440" x2="720" y2="470" stroke="#8DABC4" stroke-width="2"/>

  <!-- External APIs Section -->
  <rect x="1370" y="470" width="400" height="60" rx="10" fill="#f8f9fa"/>
  <text x="1400" y="508" font-family="Arial, sans-serif" font-size="13" fill="#1a1a1a">외부 API: Toss Payments | Weather API</text>

  <!-- Communication patterns section -->
  <rect x="100" y="710" width="1720" height="130" rx="15" fill="white" filter="url(#shadow)"/>
  <text x="200" y="760" font-family="Arial, sans-serif" font-size="20" fill="#1a1a1a" font-weight="bold">통신 패턴</text>

  <!-- Pattern 1 -->
  <rect x="360" y="730" width="400" height="80" rx="10" fill="#F5E0D8"/>
  <text x="560" y="765" font-family="Arial, sans-serif" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="bold">동기 (Synchronous)</text>
  <text x="560" y="793" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a" text-anchor="middle">REST API + JWT 인증</text>

  <!-- Pattern 2 -->
  <rect x="800" y="730" width="400" height="80" rx="10" fill="#E8EEF4"/>
  <text x="1000" y="765" font-family="Arial, sans-serif" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="bold">비동기 (Asynchronous)</text>
  <text x="1000" y="793" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a" text-anchor="middle">RabbitMQ Direct Exchange</text>

  <!-- Pattern 3 -->
  <rect x="1240" y="730" width="400" height="80" rx="10" fill="#d4edda"/>
  <text x="1440" y="765" font-family="Arial, sans-serif" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="bold">실시간 (Real-time)</text>
  <text x="1440" y="793" font-family="Arial, sans-serif" font-size="14" fill="#1a1a1a" text-anchor="middle">STOMP WebSocket + SockJS</text>

  <!-- Tech Stack Badges -->
  <rect x="100" y="870" width="1720" height="130" rx="15" fill="white" filter="url(#shadow)"/>
  <text x="200" y="920" font-family="Arial, sans-serif" font-size="18" fill="#1a1a1a" font-weight="bold">기술 스택</text>

  <rect x="360" y="900" width="100" height="35" rx="8" fill="#61dafb"/>
  <text x="410" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">React</text>

  <rect x="480" y="900" width="130" height="35" rx="8" fill="#6db33f"/>
  <text x="545" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Spring Boot</text>

  <rect x="630" y="900" width="100" height="35" rx="8" fill="#009688"/>
  <text x="680" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">FastAPI</text>

  <rect x="750" y="900" width="110" height="35" rx="8" fill="#ff6600"/>
  <text x="805" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">RabbitMQ</text>

  <rect x="880" y="900" width="100" height="35" rx="8" fill="#003545"/>
  <text x="930" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">MariaDB</text>

  <rect x="1000" y="900" width="100" height="35" rx="8" fill="#4285f4"/>
  <text x="1050" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Cloud Run</text>

  <rect x="1120" y="900" width="80" height="35" rx="8" fill="#000"/>
  <text x="1160" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Vercel</text>

  <rect x="1220" y="900" width="90" height="35" rx="8" fill="#0b0d0e"/>
  <text x="1265" y="924" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Railway</text>

  <!-- Stats -->
  <rect x="1400" y="900" width="370" height="60" rx="10" fill="#f8f9fa"/>
  <text x="1420" y="930" font-family="Arial, sans-serif" font-size="13" fill="#1a1a1a">Java 169파일 | Python 19파일 | API 50+개</text>
  <text x="1420" y="950" font-family="Arial, sans-serif" font-size="13" fill="#1a1a1a">테스트 139개 | 문서 20+ 페이지</text>
</svg>
